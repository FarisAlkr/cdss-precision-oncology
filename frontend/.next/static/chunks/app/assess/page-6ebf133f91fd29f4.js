(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[96],{9612:function(e,s,t){Promise.resolve().then(t.bind(t,3238))},3238:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ej}});var a=t(7437),i=t(2265),l=t(7138),r=t(6463),n=t(1513),d=t(4446),o=t(9733),m=t(9354);let c=i.forwardRef((e,s)=>{let{className:t,type:i,...l}=e;return(0,a.jsx)("input",{type:i,className:(0,m.cn)("flex w-full rounded-xl border bg-white/90 px-4 py-3 text-sm font-medium text-slate-700","transition-all duration-300 ease-out","border-slate-200/80","shadow-[0_1px_2px_rgba(0,0,0,0.04),inset_0_1px_0_rgba(255,255,255,0.8)]","placeholder:text-slate-400 placeholder:font-normal","hover:border-slate-300 hover:bg-white","hover:shadow-[0_2px_4px_rgba(0,0,0,0.05),inset_0_1px_0_rgba(255,255,255,0.9)]","focus:outline-none focus:border-indigo-500 focus:bg-white","focus:shadow-[0_0_0_4px_rgba(99,102,241,0.1),0_4px_12px_rgba(99,102,241,0.08),inset_0_1px_0_rgba(255,255,255,1)]","focus:ring-0","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-slate-50","[&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",t),ref:s,...l})});c.displayName="Input";var x=t(9151),p=t(2421),h=t(4392),u=t(2468);let g=x.fC;x.ZA;let b=x.B4,f=i.forwardRef((e,s)=>{let{className:t,children:i,...l}=e;return(0,a.jsxs)(x.xz,{ref:s,className:(0,m.cn)("flex w-full items-center justify-between rounded-xl border bg-white/90 px-4 py-3 text-sm font-medium text-slate-700","transition-all duration-300 ease-out","border-slate-200/80","shadow-[0_1px_2px_rgba(0,0,0,0.04),inset_0_1px_0_rgba(255,255,255,0.8)]","data-[placeholder]:text-slate-400 data-[placeholder]:font-normal","hover:border-slate-300 hover:bg-white","hover:shadow-[0_2px_4px_rgba(0,0,0,0.05),inset_0_1px_0_rgba(255,255,255,0.9)]","focus:outline-none focus:border-indigo-500 focus:bg-white","focus:shadow-[0_0_0_4px_rgba(99,102,241,0.1),0_4px_12px_rgba(99,102,241,0.08),inset_0_1px_0_rgba(255,255,255,1)]","focus:ring-0","disabled:cursor-not-allowed disabled:opacity-50 disabled:bg-slate-50","[&>span]:line-clamp-1",t),...l,children:[i,(0,a.jsx)(x.JO,{asChild:!0,children:(0,a.jsx)(p.Z,{className:"h-4 w-4 text-slate-400 transition-transform duration-200 group-data-[state=open]:rotate-180"})})]})});f.displayName=x.xz.displayName;let j=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(x.u_,{ref:s,className:(0,m.cn)("flex cursor-default items-center justify-center py-2 text-slate-500",t),...i,children:(0,a.jsx)(h.Z,{className:"h-4 w-4"})})});j.displayName=x.u_.displayName;let v=i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(x.$G,{ref:s,className:(0,m.cn)("flex cursor-default items-center justify-center py-2 text-slate-500",t),...i,children:(0,a.jsx)(p.Z,{className:"h-4 w-4"})})});v.displayName=x.$G.displayName;let y=i.forwardRef((e,s)=>{let{className:t,children:i,position:l="popper",...r}=e;return(0,a.jsx)(x.h_,{children:(0,a.jsxs)(x.VY,{ref:s,className:(0,m.cn)("relative z-50 max-h-[400px] min-w-[12rem] overflow-hidden rounded-2xl text-slate-700","bg-white/95 backdrop-blur-xl","border border-white/50","shadow-[0_25px_50px_-12px_rgba(0,0,0,0.15),0_12px_24px_-8px_rgba(0,0,0,0.08),inset_0_1px_0_rgba(255,255,255,0.9)]","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...r,children:[(0,a.jsx)(j,{}),(0,a.jsx)(x.l_,{className:(0,m.cn)("p-2","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:i}),(0,a.jsx)(v,{})]})})});y.displayName=x.VY.displayName,i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(x.__,{ref:s,className:(0,m.cn)("py-2 pl-3 pr-2 text-xs font-semibold uppercase tracking-wider text-slate-400",t),...i})}).displayName=x.__.displayName;let N=i.forwardRef((e,s)=>{let{className:t,children:i,...l}=e;return(0,a.jsxs)(x.ck,{ref:s,className:(0,m.cn)("relative flex w-full cursor-pointer select-none items-center rounded-xl py-3 pl-10 pr-4 text-sm","transition-all duration-150 ease-out","hover:bg-gradient-to-r hover:from-indigo-50 hover:to-purple-50","focus:bg-gradient-to-r focus:from-indigo-50 focus:to-purple-50 focus:outline-none","data-[state=checked]:bg-gradient-to-r data-[state=checked]:from-indigo-100 data-[state=checked]:to-purple-100","data-[state=checked]:text-indigo-700 data-[state=checked]:font-medium","data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,a.jsx)("span",{className:"absolute left-3 flex h-5 w-5 items-center justify-center",children:(0,a.jsx)(x.wU,{children:(0,a.jsx)("div",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-gradient-to-br from-indigo-500 to-purple-500",children:(0,a.jsx)(u.Z,{className:"h-3 w-3 text-white",strokeWidth:3})})})}),(0,a.jsx)(x.eT,{children:i})]})});N.displayName=x.ck.displayName,i.forwardRef((e,s)=>{let{className:t,...i}=e;return(0,a.jsx)(x.Z0,{ref:s,className:(0,m.cn)("mx-2 my-2 h-px bg-gradient-to-r from-transparent via-slate-200 to-transparent",t),...i})}).displayName=x.Z0.displayName;var w=t(2023),_=t(6356),k=t(8604),I=t(9827),C=t(8184),M=t(6780),S=t(4697),E=t(3274),A=t(3231),P=t(3907);let T={"application/pdf":w.Z,"text/csv":_.Z,"application/json":_.Z,"image/png":k.Z,"image/jpeg":k.Z,"image/jpg":k.Z,default:I.Z};function L(e){var s;let{onFileSelect:t,onFileAnalyzed:l,isAnalyzing:r=!1,accept:o=".pdf,.csv,.json,.png,.jpg,.jpeg",maxSize:c=10,className:x}=e,[p,h]=(0,i.useState)(!1),[u,g]=(0,i.useState)(null),[b,f]=(0,i.useState)(null),j=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),h(!0)},[]),v=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),h(!1)},[]),y=e=>{var s;if(e.size>1048576*c)return"File size exceeds ".concat(c,"MB limit");let t=o.split(",").map(e=>e.trim().replace(".","")),a=null===(s=e.name.split(".").pop())||void 0===s?void 0:s.toLowerCase();return a&&t.some(s=>s===a||e.type.includes(s))?null:"File type not supported"},N=(0,i.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),h(!1),f(null);let s=e.dataTransfer.files[0];if(s){let e=y(s);if(e){f(e);return}g(s),t(s)}},[t,c,o]),I=(0,i.useCallback)(e=>{var s;f(null);let a=null===(s=e.target.files)||void 0===s?void 0:s[0];if(a){let e=y(a);if(e){f(e);return}g(a),t(a)}},[t,c,o]);return(0,a.jsx)("div",{className:(0,m.cn)("w-full",x),children:(0,a.jsx)(d.M,{mode:"wait",children:u?(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"relative p-4 sm:p-6 rounded-xl sm:rounded-2xl bg-gradient-to-br from-indigo-50 to-purple-50 border-2 border-indigo-200",children:[!r&&(0,a.jsx)("button",{onClick:()=>{g(null),f(null)},className:"absolute top-2 right-2 sm:top-3 sm:right-3 w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-white shadow-md flex items-center justify-center hover:bg-slate-50 transition-colors",children:(0,a.jsx)(S.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-slate-500"})}),(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,a.jsx)("div",{className:"w-11 h-11 sm:w-14 sm:h-14 rounded-lg sm:rounded-xl bg-white shadow-md flex items-center justify-center flex-shrink-0",children:i.createElement(T[u.type]||T.default,{className:"w-5 h-5 sm:w-7 sm:h-7 text-indigo-500"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0 pr-6 sm:pr-0",children:[(0,a.jsx)("p",{className:"font-semibold text-sm sm:text-base text-slate-800 truncate",children:u.name}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-slate-500",children:(s=u.size)<1024?s+" B":s<1048576?(s/1024).toFixed(1)+" KB":(s/1048576).toFixed(1)+" MB"})]}),(0,a.jsx)("div",{className:"flex-shrink-0 hidden sm:block",children:r?(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full bg-indigo-100",children:[(0,a.jsx)(E.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600 animate-spin"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium text-indigo-600",children:"Analyzing..."})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full bg-emerald-100",children:[(0,a.jsx)(A.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-600"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium text-emerald-600",children:"Ready"})]})})]}),(0,a.jsx)("div",{className:"mt-3 sm:hidden",children:r?(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-indigo-100",children:[(0,a.jsx)(E.Z,{className:"w-3.5 h-3.5 text-indigo-600 animate-spin"}),(0,a.jsx)("span",{className:"text-xs font-medium text-indigo-600",children:"Analyzing..."})]}):(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-emerald-100",children:[(0,a.jsx)(A.Z,{className:"w-3.5 h-3.5 text-emerald-600"}),(0,a.jsx)("span",{className:"text-xs font-medium text-emerald-600",children:"Ready"})]})}),r&&(0,a.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-3 sm:mt-4 p-3 sm:p-4 rounded-lg sm:rounded-xl bg-white/80 backdrop-blur-sm border border-indigo-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-500 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(P.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm sm:text-base text-slate-800",children:"AI is extracting patient data..."}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-slate-500",children:"This may take a few seconds"})]})]}),(0,a.jsx)("div",{className:"mt-2 sm:mt-3 h-1 sm:h-1.5 bg-indigo-100 rounded-full overflow-hidden",children:(0,a.jsx)(n.E.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{repeat:1/0,duration:1.5,ease:"linear"},className:"h-full w-1/3 bg-gradient-to-r from-indigo-500 to-purple-500 rounded-full"})})]})]},"file-selected"):(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,a.jsxs)("label",{onDragOver:j,onDragLeave:v,onDrop:N,className:(0,m.cn)("relative flex flex-col items-center justify-center w-full p-5 sm:p-8 rounded-xl sm:rounded-2xl border-2 border-dashed cursor-pointer transition-all duration-300",p?"border-indigo-500 bg-indigo-50 scale-[1.02]":"border-slate-200 bg-gradient-to-br from-slate-50 to-white hover:border-indigo-300 hover:bg-indigo-50/50",b&&"border-rose-300 bg-rose-50"),children:[(0,a.jsx)("input",{type:"file",accept:o,onChange:I,className:"hidden"}),(0,a.jsx)(n.E.div,{animate:p?{scale:1.1,y:-5}:{scale:1,y:0},className:(0,m.cn)("w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl flex items-center justify-center mb-3 sm:mb-4 transition-colors duration-300",p?"bg-gradient-to-br from-indigo-500 to-purple-500":"bg-gradient-to-br from-slate-200 to-slate-300"),children:(0,a.jsx)(C.Z,{className:(0,m.cn)("w-6 h-6 sm:w-8 sm:h-8 transition-colors duration-300",p?"text-white":"text-slate-500")})}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-base sm:text-lg font-semibold text-slate-700 mb-1",children:p?"Drop your file here":"Upload Patient Document"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 mb-3 sm:mb-4",children:"Drag & drop or click to browse"})]}),(0,a.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-1.5 sm:gap-2",children:[{icon:w.Z,label:"PDF",color:"text-red-500 bg-red-50"},{icon:k.Z,label:"Images",color:"text-blue-500 bg-blue-50"},{icon:_.Z,label:"CSV/JSON",color:"text-green-500 bg-green-50"}].map(e=>(0,a.jsxs)("div",{className:(0,m.cn)("flex items-center gap-1 sm:gap-1.5 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-[10px] sm:text-xs font-medium",e.color),children:[(0,a.jsx)(e.icon,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),e.label]},e.label))}),(0,a.jsxs)("p",{className:"mt-3 sm:mt-4 text-[10px] sm:text-xs text-slate-400",children:["Maximum file size: ",c,"MB"]})]}),b&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 flex items-center gap-2 p-3 rounded-xl bg-rose-50 border border-rose-200",children:[(0,a.jsx)(M.Z,{className:"w-4 h-4 text-rose-500 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-rose-600",children:b})]})]},"upload-zone")})})}var F=t(9099),Z=t(9291);let R={diabetes:!1,ecog_status:0},D=(0,F.Ue)()((0,Z.tJ)((e,s)=>({patientData:R,setPatientData:s=>e(e=>({patientData:{...e.patientData,...s}})),updateField:(s,t)=>e(e=>({patientData:{...e.patientData,[s]:t}})),resetPatientData:()=>e({patientData:R}),isComplete:()=>{let e=s().patientData;return["age","bmi","stage","histology","grade","myometrial_invasion","lvsi","lymph_nodes","pole_status","mmr_status","p53_status","l1cam_status","ctnnb1_status"].every(s=>void 0!==e[s]&&null!==e[s]&&""!==e[s])}}),{name:"patient-data-storage"}));var W=t(9848);let z="http://localhost:8000/api/v1";class O extends Error{constructor(e,s){super(s),this.status=e,this.name="ApiError"}}async function B(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="".concat(z).concat(e),a=await fetch(t,{...s,headers:{"Content-Type":"application/json",...s.headers}});if(!a.ok){let e=await a.json().catch(()=>({detail:a.statusText}));throw new O(a.status,e.detail||"An error occurred")}return a.json()}let G={predict:async e=>B("/predict",{method:"POST",body:JSON.stringify(e)}),analyzeDocument:async e=>{let s=new FormData;s.append("file",e);let t=await fetch("".concat(z,"/document/analyze"),{method:"POST",body:s});if(!t.ok){let e=await t.json().catch(()=>({detail:t.statusText}));throw new O(t.status,e.detail||"Failed to analyze document")}return t.json()},aiAnalyzeDocument:async e=>{let s=new FormData;s.append("file",e);let t=await fetch("".concat(z,"/document/ai-analyze"),{method:"POST",body:s});if(!t.ok){let e=await t.json().catch(()=>({detail:t.statusText}));throw new O(t.status,e.detail||"AI analysis failed")}return t.json()}},V={age:"age",patient_age:"age","patient age":"age",years:"age",bmi:"bmi",body_mass_index:"bmi","body mass index":"bmi",stage:"stage",figo_stage:"stage","figo stage":"stage",tumor_stage:"stage",histology:"histology",histology_type:"histology","histology type":"histology",tumor_type:"histology",grade:"grade",tumor_grade:"grade","tumor grade":"grade",differentiation:"grade",myometrial_invasion:"myometrial_invasion","myometrial invasion":"myometrial_invasion",invasion_depth:"myometrial_invasion","invasion depth":"myometrial_invasion",lvsi:"lvsi",lvsi_status:"lvsi","lvsi status":"lvsi",lymphovascular_invasion:"lvsi","lymphovascular invasion":"lvsi",lymph_nodes:"lymph_nodes","lymph nodes":"lymph_nodes",lymph_node_status:"lymph_nodes","lymph node status":"lymph_nodes",nodal_status:"lymph_nodes",pole:"pole_status",pole_status:"pole_status","pole status":"pole_status",pole_mutation:"pole_status","pole mutation":"pole_status",mmr:"mmr_status",mmr_status:"mmr_status","mmr status":"mmr_status",mismatch_repair:"mmr_status","mismatch repair":"mmr_status",p53:"p53_status",p53_status:"p53_status","p53 status":"p53_status",tp53:"p53_status",l1cam:"l1cam_status",l1cam_status:"l1cam_status","l1cam status":"l1cam_status",ctnnb1:"ctnnb1_status",ctnnb1_status:"ctnnb1_status","ctnnb1 status":"ctnnb1_status",beta_catenin:"ctnnb1_status","beta catenin":"ctnnb1_status",ecog:"ecog_status",ecog_status:"ecog_status","ecog status":"ecog_status",performance_status:"ecog_status","performance status":"ecog_status",diabetes:"diabetes",diabetic:"diabetes",diabetes_status:"diabetes",er:"er_percent",er_percent:"er_percent","er percent":"er_percent",estrogen_receptor:"er_percent","estrogen receptor":"er_percent",pr:"pr_percent",pr_percent:"pr_percent","pr percent":"pr_percent",progesterone_receptor:"pr_percent","progesterone receptor":"pr_percent",molecular_group:"molecular_group",msi_status:"msi_status",msi:"msi_status","microsatellite instability":"msi_status",tmb_score:"tmb_score",tmb:"tmb_score","tumor mutational burden":"tmb_score",tmb_status:"tmb_status",mlh1_status:"mlh1_status",mlh1:"mlh1_status",pms2_status:"pms2_status",pms2:"pms2_status",msh2_status:"msh2_status",msh2:"msh2_status",msh6_status:"msh6_status",msh6:"msh6_status",fgfr2_status:"fgfr2_status",fgfr2:"fgfr2_status",pten_status:"pten_status",pten:"pten_status",pik3ca_status:"pik3ca_status",pik3ca:"pik3ca_status",fbxw7_status:"fbxw7_status",fbxw7:"fbxw7_status",kras_status:"kras_status",kras:"kras_status",tumor_purity:"tumor_purity","tumor purity":"tumor_purity"},U={stage:{ia:"IA",ib:"IB",ii:"II",iiia:"IIIA",iiib:"IIIB",iiic1:"IIIC1",iiic2:"IIIC2",iva:"IVA",ivb:"IVB","stage ia":"IA","stage ib":"IB","stage ii":"II","1a":"IA","1b":"IB",2:"II","3a":"IIIA","3b":"IIIB","3c1":"IIIC1","3c2":"IIIC2","4a":"IVA","4b":"IVB"},grade:{g1:"G1",g2:"G2",g3:"G3","grade 1":"G1","grade 2":"G2","grade 3":"G3",1:"G1",2:"G2",3:"G3",low:"G1",intermediate:"G2",high:"G3","well differentiated":"G1","moderately differentiated":"G2","poorly differentiated":"G3"},histology:{endometrioid:"Endometrioid",serous:"Serous","clear cell":"Clear Cell",clearcell:"Clear Cell",carcinosarcoma:"Carcinosarcoma",mixed:"Mixed",undifferentiated:"Undifferentiated"},myometrial_invasion:{"<50%":"<50%",">=50%":"≥50%","≥50%":"≥50%",">50%":"≥50%","less than 50%":"<50%","more than 50%":"≥50%","less than half":"<50%","more than half":"≥50%",superficial:"<50%",deep:"≥50%"},lvsi:{present:"Present",absent:"Absent",positive:"Present",negative:"Absent",yes:"Present",no:"Absent",substantial:"Substantial",focal:"Focal","not identified":"Absent"},lymph_nodes:{negative:"Negative",positive:"Positive","not assessed":"Not Assessed",nx:"Not Assessed",n0:"Negative",n1:"Positive",n2:"Positive"},pole_status:{mutated:"Mutated","wild-type":"Wild-type",wildtype:"Wild-type",wt:"Wild-type",mut:"Mutated",positive:"Mutated",negative:"Wild-type","not tested":"Not Tested"},mmr_status:{proficient:"Proficient",deficient:"Deficient",pmmr:"Proficient",dmmr:"Deficient",intact:"Proficient",loss:"Deficient","not tested":"Not Tested"},p53_status:{"wild-type":"Wild-type",wildtype:"Wild-type",normal:"Wild-type",abnormal:"Abnormal",mutant:"Abnormal",overexpression:"Abnormal",null:"Abnormal","not tested":"Not Tested"},l1cam_status:{positive:"Positive",negative:"Negative",">=10%":"Positive","<10%":"Negative","not tested":"Not Tested"},ctnnb1_status:{mutated:"Mutated","wild-type":"Wild-type",wildtype:"Wild-type",positive:"Mutated",negative:"Wild-type","not tested":"Not Tested"},diabetes:{yes:!0,no:!1,true:!0,false:!1,diabetic:!0,"non-diabetic":!1,1:!0,0:!1},molecular_group:{polemut:"POLEmut",mmrd:"MMRd",nsmp:"NSMP",p53abn:"p53abn","pole mutated":"POLEmut","mmr deficient":"MMRd","p53 abnormal":"p53abn","no specific molecular profile":"NSMP"},msi_status:{stable:"Stable",unstable:"Unstable",mss:"Stable","msi-s":"Stable","msi-h":"Unstable",high:"Unstable",low:"Stable"},tmb_status:{low:"Low",high:"High"},mlh1_status:{intact:"Intact",lost:"Lost",loss:"Lost","+":"Intact","-":"Lost",positive:"Intact",negative:"Lost"},pms2_status:{intact:"Intact",lost:"Lost",loss:"Lost","+":"Intact","-":"Lost",positive:"Intact",negative:"Lost"},msh2_status:{intact:"Intact",lost:"Lost",loss:"Lost","+":"Intact","-":"Lost",positive:"Intact",negative:"Lost"},msh6_status:{intact:"Intact",lost:"Lost",loss:"Lost","+":"Intact","-":"Lost",positive:"Intact",negative:"Lost"},fgfr2_status:{mutated:"Mutated","wild-type":"Wild-type",wildtype:"Wild-type",detected:"Mutated","not detected":"Wild-type"},pten_status:{mutated:"Mutated","wild-type":"Wild-type",wildtype:"Wild-type",detected:"Mutated","not detected":"Wild-type"},pik3ca_status:{mutated:"Mutated","wild-type":"Wild-type",wildtype:"Wild-type",detected:"Mutated","not detected":"Wild-type"},fbxw7_status:{mutated:"Mutated","wild-type":"Wild-type",wildtype:"Wild-type",detected:"Mutated","not detected":"Wild-type"},kras_status:{mutated:"Mutated","wild-type":"Wild-type",wildtype:"Wild-type",detected:"Mutated","not detected":"Wild-type"}};function q(e,s){let t=s.toLowerCase().trim(),a=U[e];if(a&&void 0!==a[t])return a[t];if(["age","bmi","ecog_status","er_percent","pr_percent","tmb_score","tumor_purity"].includes(e)){let t=parseFloat(s);return isNaN(t)?void 0:"ecog_status"===e?Math.round(t):t}return s}async function H(e,s){let t=new FormData;t.append("file",e);let a=await fetch("".concat(s,"/analyze-document"),{method:"POST",body:t});if(!a.ok)throw Error((await a.json().catch(()=>({detail:"Failed to analyze document"}))).detail||"Failed to analyze document");return function(e){let s={...e};if(!s.mmr_status){let e=[s.mlh1_status,s.pms2_status,s.msh2_status,s.msh6_status];e.some(e=>"Lost"===e)?(s.mmr_status="Deficient","Lost"===s.mlh1_status?s.mmr_protein_lost="MLH1":"Lost"===s.pms2_status?s.mmr_protein_lost="PMS2":"Lost"===s.msh2_status?s.mmr_protein_lost="MSH2":"Lost"===s.msh6_status&&(s.mmr_protein_lost="MSH6")):e.every(e=>"Intact"===e)&&(s.mmr_status="Proficient")}if(s.mmr_status||!s.msi_status||("Unstable"===s.msi_status?s.mmr_status="Deficient":"Stable"!==s.msi_status||s.mlh1_status||s.pms2_status||s.msh2_status||s.msh6_status),!s.histology&&e.cancer_type){let t=e.cancer_type.toLowerCase();t.includes("endometri")?s.histology="Endometrioid":t.includes("serous")?s.histology="Serous":t.includes("clear")&&(s.histology="Clear Cell")}return s}((await a.json()).extracted_data)}async function J(e,s){let t=e.type,a=e.name.toLowerCase();if("text/csv"===t||a.endsWith(".csv"))return{data:function(e){let s=e.trim().split("\n");if(s.length<2)throw Error("CSV file must have at least a header row and one data row");let t=s[0].split(",").map(e=>e.trim().toLowerCase().replace(/['"]/g,"")),a=s[1].split(",").map(e=>e.trim().replace(/['"]/g,"")),i={};return t.forEach((e,s)=>{let t=V[e];if(t&&a[s]){let e=q(t,a[s]);void 0!==e&&(i[t]=e)}}),i}(await e.text()),method:"csv"};if("application/json"===t||a.endsWith(".json"))return{data:function(e){let s=JSON.parse(e),t={};return Object.entries(function e(s){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a={};for(let[i,l]of Object.entries(s)){let s=t?"".concat(t,"_").concat(i):i;l&&"object"==typeof l&&!Array.isArray(l)?Object.assign(a,e(l,s)):a[s]=l}return a}(s)).forEach(e=>{let[s,a]=e,i=V[s.toLowerCase().replace(/[_\s]+/g,"_")]||V[s.toLowerCase()];if(i&&null!=a){let e=q(i,String(a));void 0!==e&&(t[i]=e)}}),t}(await e.text()),method:"json"};if("application/pdf"===t||t.startsWith("image/")||a.endsWith(".pdf")||a.endsWith(".png")||a.endsWith(".jpg")||a.endsWith(".jpeg")){if(!s)throw Error("AI analysis requires backend API URL. Please configure NEXT_PUBLIC_API_URL.");return{data:await H(e,s),method:"ai"}}throw Error("Unsupported file type: ".concat(t))}function Y(e){let s=["age","bmi","stage","histology","grade","myometrial_invasion","lvsi","lymph_nodes","pole_status","mmr_status","p53_status","l1cam_status","ctnnb1_status"],t=s.filter(s=>void 0!==e[s]&&null!==e[s]),a=s.filter(s=>void 0===e[s]||null===e[s]);return{isComplete:0===a.length,filledFields:t,missingFields:a}}let X=e=>{switch(e){case"LOW":return"text-emerald-400 bg-emerald-500/20 border-emerald-500/30";case"INTERMEDIATE":return"text-amber-400 bg-amber-500/20 border-amber-500/30";case"HIGH":return"text-red-400 bg-red-500/20 border-red-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},Q=e=>{switch(e){case"POLEmut":return"text-emerald-400 bg-emerald-500/20 border-emerald-500/30";case"MMRd":return"text-blue-400 bg-blue-500/20 border-blue-500/30";case"NSMP":return"text-amber-400 bg-amber-500/20 border-amber-500/30";case"p53abn":return"text-red-400 bg-red-500/20 border-red-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}};function $(e){let{assessment:s,onUseData:t}=e;return(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-4 sm:space-y-6",children:[(0,a.jsxs)("div",{className:"glass-premium rounded-xl sm:rounded-2xl p-4 sm:p-6",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-0 mb-4 sm:mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-bold text-white mb-1 sm:mb-2",children:"AI Medical Assessment"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-white/60",children:"Comprehensive analysis powered by AI"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:block sm:text-right",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-white/60 sm:mb-1",children:"Extraction Confidence"}),(0,a.jsxs)("div",{className:"text-xl sm:text-2xl font-bold text-cyan-400",children:[Math.round(100*s.extraction_confidence),"%"]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"rounded-lg sm:rounded-xl p-3 sm:p-4 border ".concat(X(s.risk_category)),children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm opacity-80 mb-1",children:"5-Year Recurrence Risk"}),(0,a.jsxs)("div",{className:"text-2xl sm:text-3xl font-bold",children:[s.five_year_recurrence_risk.toFixed(1),"%"]}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm mt-1",children:[s.risk_category," Risk"]})]}),(0,a.jsxs)("div",{className:"rounded-lg sm:rounded-xl p-3 sm:p-4 border ".concat(Q(s.molecular_group)),children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm opacity-80 mb-1",children:"Molecular Classification"}),(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold",children:s.molecular_group}),(0,a.jsxs)("div",{className:"text-xs sm:text-sm mt-1",children:[Math.round(100*s.molecular_group_confidence),"% confidence"]})]}),(0,a.jsxs)("div",{className:"rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/10 bg-white/5",children:[(0,a.jsx)("div",{className:"text-xs sm:text-sm text-white/60 mb-1",children:"Overall Risk Score"}),(0,a.jsx)("div",{className:"text-2xl sm:text-3xl font-bold text-white",children:s.risk_score.toFixed(0)}),(0,a.jsx)("div",{className:"text-xs sm:text-sm text-white/60 mt-1",children:"out of 100"})]})]})]}),(0,a.jsxs)("div",{className:"glass rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,a.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2 sm:mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-cyan-400"}),"Clinical Summary"]}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-white/80 leading-relaxed",children:s.clinical_summary})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[(0,a.jsxs)("div",{className:"glass rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,a.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-red-400 mb-2 sm:mb-3 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),"Risk Factors"]}),(0,a.jsxs)("ul",{className:"space-y-1.5 sm:space-y-2",children:[s.risk_factors.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm sm:text-base text-white/70",children:[(0,a.jsx)("span",{className:"text-red-400 mt-0.5 sm:mt-1 flex-shrink-0",children:"-"}),(0,a.jsx)("span",{children:e})]},s)),0===s.risk_factors.length&&(0,a.jsx)("li",{className:"text-sm sm:text-base text-white/50 italic",children:"No significant risk factors identified"})]})]}),(0,a.jsxs)("div",{className:"glass rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,a.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-emerald-400 mb-2 sm:mb-3 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Protective Factors"]}),(0,a.jsxs)("ul",{className:"space-y-1.5 sm:space-y-2",children:[s.protective_factors.map((e,s)=>(0,a.jsxs)("li",{className:"flex items-start gap-2 text-sm sm:text-base text-white/70",children:[(0,a.jsx)("span",{className:"text-emerald-400 mt-0.5 sm:mt-1 flex-shrink-0",children:"+"}),(0,a.jsx)("span",{children:e})]},s)),0===s.protective_factors.length&&(0,a.jsx)("li",{className:"text-sm sm:text-base text-white/50 italic",children:"No specific protective factors identified"})]})]})]}),(0,a.jsxs)("div",{className:"glass rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,a.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2 sm:mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-purple-400 flex-shrink-0"}),"Molecular Classification Rationale"]}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-white/80 leading-relaxed",children:s.molecular_rationale})]}),(0,a.jsxs)("div",{className:"glass rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,a.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2 sm:mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-400 flex-shrink-0"}),"Treatment Implications"]}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-white/80 leading-relaxed mb-3 sm:mb-4",children:s.treatment_implications}),(0,a.jsx)("h4",{className:"text-xs sm:text-sm font-semibold text-white/60 mb-1.5 sm:mb-2",children:"Recommended Surveillance"}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-white/70",children:s.recommended_surveillance}),s.clinical_trial_eligibility.length>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{className:"text-xs sm:text-sm font-semibold text-white/60 mt-3 sm:mt-4 mb-1.5 sm:mb-2",children:"Clinical Trial Eligibility"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:s.clinical_trial_eligibility.map((e,s)=>(0,a.jsx)("span",{className:"px-2 sm:px-3 py-0.5 sm:py-1 rounded-full bg-cyan-500/20 text-cyan-400 text-xs sm:text-sm",children:e},s))})]})]}),(0,a.jsxs)("div",{className:"glass rounded-lg sm:rounded-xl p-4 sm:p-6",children:[(0,a.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-white mb-2 sm:mb-3 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0"}),"Detailed Medical Explanation"]}),(0,a.jsx)("p",{className:"text-sm sm:text-base text-white/80 leading-relaxed whitespace-pre-wrap",children:s.detailed_explanation})]}),(s.warnings.length>0||s.missing_critical_data.length>0)&&(0,a.jsxs)("div",{className:"glass rounded-lg sm:rounded-xl p-4 sm:p-6 border border-amber-500/30",children:[(0,a.jsxs)("h3",{className:"text-base sm:text-lg font-semibold text-amber-400 mb-2 sm:mb-3 flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Important Notes"]}),s.missing_critical_data.length>0&&(0,a.jsxs)("div",{className:"mb-3 sm:mb-4",children:[(0,a.jsx)("h4",{className:"text-xs sm:text-sm font-semibold text-white/60 mb-1.5 sm:mb-2",children:"Missing Data"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5 sm:gap-2",children:s.missing_critical_data.map((e,s)=>(0,a.jsx)("span",{className:"px-2 sm:px-3 py-0.5 sm:py-1 rounded-full bg-amber-500/20 text-amber-400 text-xs sm:text-sm",children:e},s))})]}),s.warnings.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-xs sm:text-sm font-semibold text-white/60 mb-1.5 sm:mb-2",children:"Warnings"}),(0,a.jsx)("ul",{className:"space-y-1",children:s.warnings.map((e,s)=>(0,a.jsxs)("li",{className:"text-amber-400/80 text-xs sm:text-sm",children:["- ",e]},s))})]})]}),t&&(0,a.jsx)("div",{className:"flex justify-center px-4 sm:px-0",children:(0,a.jsx)("button",{onClick:t,className:"btn-premium w-full sm:w-auto px-6 sm:px-8 py-3 rounded-xl font-semibold text-sm sm:text-base",children:"Use Extracted Data for Assessment"})})]})}var K=t(2686),ee=t(2022),es=t(3109),et=t(3914),ea=t(4207),ei=t(690),el=t(5137),er=t(500),en=t(9869),ed=t(1773),eo=t(6127),em=t(4042),ec=t(933),ex=t(1976),ep=t(7592);let eh=[{id:"demographics",title:"Patient Demographics",subtitle:"Basic Information",icon:ee.Z,description:"Enter patient demographics and health status",color:"from-blue-500 to-cyan-500"},{id:"pathology",title:"Pathological Profile",subtitle:"Tumor Characteristics",icon:es.Z,description:"Detailed pathological findings and staging",color:"from-purple-500 to-pink-500"},{id:"molecular",title:"Molecular Markers",subtitle:"Biomarker Analysis",icon:et.Z,description:"Molecular profiling and genetic markers",color:"from-emerald-500 to-teal-500"},{id:"clinical",title:"Clinical Review",subtitle:"Final Confirmation",icon:ea.Z,description:"Review and submit for AI analysis",color:"from-orange-500 to-amber-500"}],eu={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},eg={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},eb={enter:e=>({x:e>0?100:-100,opacity:0}),center:{x:0,opacity:1,transition:{type:"spring",stiffness:300,damping:30}},exit:e=>({x:e<0?100:-100,opacity:0,transition:{type:"spring",stiffness:300,damping:30}})};function ef(e){let{label:s,required:t,helpText:i,children:l,icon:r}=e;return(0,a.jsxs)(n.E.div,{variants:eg,className:"group",children:[(0,a.jsx)("label",{className:"block mb-2",children:(0,a.jsxs)("span",{className:"flex items-center gap-2 text-xs font-semibold uppercase tracking-wider text-slate-500 mb-2",children:[r&&(0,a.jsx)(r,{className:"w-3.5 h-3.5 text-indigo-500"}),s,t&&(0,a.jsx)("span",{className:"text-rose-500",children:"*"})]})}),(0,a.jsx)("div",{className:"relative",children:l}),i&&(0,a.jsxs)("p",{className:"mt-2 text-xs text-slate-400 flex items-center gap-1.5",children:[(0,a.jsx)(ei.Z,{className:"w-3 h-3"}),i]})]})}function ej(){var e,s;let t=(0,r.useRouter)(),[m,x]=(0,i.useState)(0),[p,h]=(0,i.useState)(0),[u,j]=(0,i.useState)(!1),[v,_]=(0,i.useState)(!1),[k,I]=(0,i.useState)(!0),[M,S]=(0,i.useState)(!1),[T,F]=(0,i.useState)(null),[Z,R]=(0,i.useState)(null),[z,O]=(0,i.useState)(!1),{patientData:B,setPatientData:V}=D(),{setPrediction:U,setError:q}=(0,W.H)(),H=async e=>{S(!0),F(null),R(null);try{let s=e.name.toLowerCase(),t={},a=[];if(s.endsWith(".csv")||s.endsWith(".json")){t=(await J(e)).data;let s=Y(t);Object.keys(t).length>0&&V(t),F({success:s.filledFields.length>0,filledFields:s.filledFields,missingFields:s.missingFields,warnings:a}),s.filledFields.length>=5&&setTimeout(()=>I(!1),2e3)}else try{let s=await G.aiAnalyzeDocument(e);R(s),O(!0),I(!1)}catch(s){try{let s=await G.analyzeDocument(e);t=s.extracted_data,a=s.warnings||[];let i=Y(t);Object.keys(t).length>0&&V(t),F({success:i.filledFields.length>0,filledFields:i.filledFields,missingFields:i.missingFields,warnings:[...a,"AI analysis not available, used pattern extraction instead."]})}catch(e){a.push(s.message||"AI analysis failed. Please fill the form manually."),F({success:!1,filledFields:[],missingFields:[],warnings:a})}}}catch(e){F({success:!1,filledFields:[],missingFields:[],warnings:[e.message||"Failed to analyze document"]})}finally{S(!1)}};(0,i.useEffect)(()=>{_(!0)},[]);let X=e=>{e<m&&(h(-1),x(e))},Q=async()=>{j(!0),q(null);try{let e=await G.predict(B);U(e),t.push("/results")}catch(e){q(e.message||"Failed to generate prediction"),j(!1)}},ei=(m+1)/eh.length*100,ej=eh[m].icon;return v?(0,a.jsxs)("div",{className:"min-h-screen gradient-mesh relative overflow-hidden",children:[(0,a.jsx)("div",{className:"floating-orb floating-orb-1"}),(0,a.jsx)("div",{className:"floating-orb floating-orb-2"}),(0,a.jsx)("div",{className:"floating-orb floating-orb-3"}),(0,a.jsx)("header",{className:"sticky top-0 z-50 glass border-b border-white/20",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-3 sm:py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(l.default,{href:"/",className:"flex items-center gap-2 text-sm font-medium text-slate-600 hover:text-indigo-600 transition-all duration-300 group",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-lg bg-white/80 flex items-center justify-center shadow-sm group-hover:shadow-md transition-all duration-300",children:(0,a.jsx)(el.Z,{className:"h-4 w-4 group-hover:-translate-x-0.5 transition-transform"})}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Back to Home"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsxs)("div",{className:"hidden md:flex items-center gap-2 px-4 py-2 rounded-full bg-white/60 backdrop-blur-sm border border-white/40",children:[(0,a.jsx)(er.Z,{className:"w-4 h-4 text-emerald-500"}),(0,a.jsx)("span",{className:"text-xs font-medium text-slate-600",children:"HIPAA Compliant"})]}),(0,a.jsxs)("div",{className:"badge-premium flex items-center gap-1.5 sm:gap-2 text-xs sm:text-sm px-2.5 sm:px-3 py-1 sm:py-1.5",children:[(0,a.jsx)(P.Z,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),(0,a.jsxs)("span",{children:["Step ",m+1,"/",eh.length]})]})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-5 sm:py-8 relative z-10",children:[(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,ease:"easeOut"},className:"text-center mb-6 sm:mb-12",children:[(0,a.jsxs)("div",{className:"inline-flex items-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-1.5 sm:py-2 rounded-full bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 mb-4 sm:mb-6",children:[(0,a.jsx)(en.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-indigo-600"}),(0,a.jsx)("span",{className:"text-xs sm:text-sm font-medium text-indigo-700",children:"AI-Powered Risk Stratification"})]}),(0,a.jsxs)("h1",{className:"text-2xl sm:text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight mb-2 sm:mb-4",children:[(0,a.jsx)("span",{className:"text-slate-800",children:"Patient"})," ",(0,a.jsx)("span",{className:"text-gradient",children:"Assessment"})]}),(0,a.jsx)("p",{className:"text-sm sm:text-lg text-slate-500 max-w-2xl mx-auto leading-relaxed px-4 sm:px-0",children:"Complete the assessment form for comprehensive molecular risk stratification powered by advanced machine learning algorithms."})]}),(0,a.jsx)(d.M,{children:k&&(0,a.jsx)(n.E.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"max-w-4xl mx-auto mb-6 sm:mb-10",children:(0,a.jsxs)("div",{className:"card-premium rounded-2xl sm:rounded-3xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 p-4 sm:p-5",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-lg sm:rounded-xl bg-white/20 backdrop-blur-sm flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(ed.Z,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-base sm:text-xl font-bold text-white",children:"Smart Document Upload"}),(0,a.jsx)("p",{className:"text-white/80 text-xs sm:text-sm",children:"Upload a patient file to auto-fill"})]})]}),(0,a.jsx)(o.z,{variant:"ghost",size:"sm",onClick:()=>I(!1),className:"text-white/80 hover:text-white hover:bg-white/10",children:"Skip"})]})}),(0,a.jsxs)("div",{className:"p-4 sm:p-6",children:[(0,a.jsx)(L,{onFileSelect:H,isAnalyzing:M}),(0,a.jsx)(d.M,{children:T&&(0,a.jsx)(n.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-4 sm:mt-6",children:T.success?(0,a.jsx)("div",{className:"p-3 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(A.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("p",{className:"font-bold text-sm sm:text-base text-emerald-800",children:["Extracted ",T.filledFields.length," fields"]}),(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-emerald-600 mt-1 break-words",children:["Fields: ",T.filledFields.join(", ")]}),T.missingFields.length>0&&(0,a.jsxs)("p",{className:"text-xs sm:text-sm text-amber-600 mt-2 break-words",children:["Fill manually: ",T.missingFields.join(", ")]})]})]})}):(0,a.jsx)("div",{className:"p-3 sm:p-5 rounded-xl sm:rounded-2xl bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3 sm:gap-4",children:[(0,a.jsx)("div",{className:"w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(eo.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("p",{className:"font-bold text-sm sm:text-base text-amber-800",children:"Could not extract data"}),T.warnings.map((e,s)=>(0,a.jsx)("p",{className:"text-xs sm:text-sm text-amber-600 mt-1 break-words",children:e},s))]})]})})})}),(0,a.jsxs)("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-slate-100 flex items-center justify-center gap-3 sm:gap-4",children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-slate-500",children:"or"}),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>I(!1),className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50 text-xs sm:text-sm",children:[(0,a.jsx)(w.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2"}),"Fill form manually"]})]})]})]})})}),!k&&!z&&(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},className:"max-w-4xl mx-auto mb-6 flex justify-end",children:(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>I(!0),className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50",children:[(0,a.jsx)(C.Z,{className:"w-4 h-4 mr-2"}),"Upload Document"]})}),(0,a.jsx)(d.M,{children:z&&Z&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"max-w-5xl mx-auto mb-6 sm:mb-10",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-4 sm:mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-600 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(en.Z,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-lg sm:text-2xl font-bold text-slate-800",children:"AI Medical Assessment"}),(0,a.jsx)("p",{className:"text-xs sm:text-base text-slate-500",children:"Comprehensive analysis of your medical document"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 sm:gap-3",children:[(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>{O(!1),I(!0)},className:"text-slate-600 border-slate-200 text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,a.jsx)(C.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2"}),(0,a.jsx)("span",{className:"hidden xs:inline",children:"Upload"})," Another"]}),(0,a.jsxs)(o.z,{variant:"outline",size:"sm",onClick:()=>O(!1),className:"text-indigo-600 border-indigo-200 hover:bg-indigo-50 text-xs sm:text-sm flex-1 sm:flex-none",children:[(0,a.jsx)(w.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2"}),"Manual Form"]})]})]}),(0,a.jsx)($,{assessment:Z,onUseData:()=>{(null==Z?void 0:Z.patient_data)&&(V(Z.patient_data),O(!1),x(0))}})]})}),!z&&(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-6 sm:mb-10",children:[(0,a.jsx)("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:eh.map((e,s)=>{let t=e.icon,i=s===m,l=s<m,r=s<m;return(0,a.jsxs)("div",{className:"flex items-center flex-1",children:[(0,a.jsxs)("button",{onClick:()=>r&&X(s),disabled:!r,className:"relative flex flex-col items-center group ".concat(r?"cursor-pointer":"cursor-default"),children:[(0,a.jsx)(n.E.div,{initial:!1,animate:{scale:i?1.1:1,boxShadow:i?"0 0 0 4px rgba(99, 102, 241, 0.15), 0 8px 24px -4px rgba(99, 102, 241, 0.3)":"none"},className:"\n                        w-10 h-10 sm:w-14 sm:h-14 rounded-xl sm:rounded-2xl flex items-center justify-center transition-all duration-500\n                        ".concat(i?"bg-gradient-to-br ".concat(e.color," text-white"):l?"bg-gradient-to-br from-emerald-400 to-emerald-500 text-white":"bg-white/80 text-slate-400 border-2 border-slate-200","\n                      "),children:l?(0,a.jsx)(A.Z,{className:"w-4 h-4 sm:w-6 sm:h-6"}):(0,a.jsx)(t,{className:"w-4 h-4 sm:w-6 sm:h-6"})}),(0,a.jsxs)("div",{className:"mt-2 sm:mt-3 text-center",children:[(0,a.jsx)("p",{className:"text-[10px] sm:text-sm font-semibold transition-colors duration-300 ".concat(i?"text-slate-800":l?"text-emerald-600":"text-slate-400"),children:e.subtitle}),(0,a.jsx)("p",{className:"text-xs mt-0.5 hidden lg:block ".concat(i?"text-slate-500":"text-slate-400"),children:e.title})]}),i&&(0,a.jsx)(n.E.div,{layoutId:"activeStep",className:"absolute -bottom-1 w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-indigo-500",transition:{type:"spring",stiffness:500,damping:30}})]}),s<eh.length-1&&(0,a.jsx)("div",{className:"flex-1 mx-1.5 sm:mx-4 h-0.5 rounded-full bg-slate-200 relative overflow-hidden",children:(0,a.jsx)(n.E.div,{initial:!1,animate:{width:l?"100%":"0%"},className:"absolute inset-0 bg-gradient-to-r from-emerald-400 to-emerald-500 rounded-full",transition:{duration:.5,ease:"easeInOut"}})})]},e.id)})}),(0,a.jsxs)("div",{className:"mt-5 sm:mt-8 max-w-4xl mx-auto",children:[(0,a.jsx)("div",{className:"progress-premium",children:(0,a.jsx)(n.E.div,{className:"progress-premium-bar",initial:!1,animate:{width:"".concat(ei,"%")}})}),(0,a.jsxs)("div",{className:"flex justify-between mt-1.5 sm:mt-2",children:[(0,a.jsx)("span",{className:"text-[10px] sm:text-xs text-slate-400",children:"Assessment Progress"}),(0,a.jsxs)("span",{className:"text-xs font-medium text-indigo-600",children:[Math.round(ei),"% Complete"]})]})]})]}),!z&&(0,a.jsx)(n.E.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},className:"max-w-4xl mx-auto",children:(0,a.jsxs)("div",{className:"card-premium rounded-2xl sm:rounded-3xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r ".concat(eh[m].color," p-4 sm:p-6 md:p-8"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 sm:w-16 sm:h-16 rounded-xl sm:rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(ej,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsx)("h2",{className:"text-lg sm:text-2xl md:text-3xl font-bold text-white truncate",children:eh[m].title}),(0,a.jsx)("p",{className:"text-white/80 text-xs sm:text-base mt-0.5 sm:mt-1 line-clamp-2",children:eh[m].description})]})]})}),(0,a.jsxs)("div",{className:"p-4 sm:p-6 md:p-10",children:[(0,a.jsx)(d.M,{mode:"wait",custom:p,children:(0,a.jsxs)(n.E.div,{custom:p,variants:eb,initial:"enter",animate:"center",exit:"exit",children:[0===m&&(0,a.jsxs)(n.E.div,{variants:eu,initial:"hidden",animate:"visible",className:"space-y-5 sm:space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"Age",required:!0,helpText:"Patient age in years (35-90)",icon:ee.Z,children:(0,a.jsx)(c,{type:"number",placeholder:"Enter age...",value:B.age||"",onChange:e=>V({age:parseInt(e.target.value)||0}),className:"input-premium h-12 sm:h-14 text-sm sm:text-base"})}),(0,a.jsx)(ef,{label:"BMI",required:!0,helpText:"Body Mass Index (kg/m\xb2)",icon:em.Z,children:(0,a.jsx)(c,{type:"number",step:"0.1",placeholder:"Enter BMI...",value:B.bmi||"",onChange:e=>V({bmi:parseFloat(e.target.value)||0}),className:"input-premium h-12 sm:h-14 text-sm sm:text-base"})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"ECOG Performance Status",required:!0,helpText:"Functional status (0-4)",icon:ea.Z,children:(0,a.jsxs)(g,{value:null===(e=B.ecog_status)||void 0===e?void 0:e.toString(),onValueChange:e=>V({ecog_status:parseInt(e)}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select ECOG status..."})}),(0,a.jsx)(y,{className:"glass-card border-0",children:K.N7.map(e=>(0,a.jsxs)(N,{value:e.value.toString(),className:"py-3",children:[(0,a.jsx)("span",{className:"font-medium",children:e.label}),(0,a.jsxs)("span",{className:"text-slate-400 ml-2",children:["- ",e.description]})]},e.value))})]})}),(0,a.jsx)(ef,{label:"Diabetes Status",required:!0,helpText:"History of diabetes mellitus",children:(0,a.jsxs)(g,{value:null===(s=B.diabetes)||void 0===s?void 0:s.toString(),onValueChange:e=>V({diabetes:"true"===e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select status..."})}),(0,a.jsxs)(y,{className:"glass-card border-0",children:[(0,a.jsx)(N,{value:"false",className:"py-3",children:"No Diabetes"}),(0,a.jsx)(N,{value:"true",className:"py-3",children:"Yes - Diabetic"})]})]})})]})]}),1===m&&(0,a.jsxs)(n.E.div,{variants:eu,initial:"hidden",animate:"visible",className:"space-y-5 sm:space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"FIGO Stage",required:!0,helpText:"2009 FIGO staging system",icon:es.Z,children:(0,a.jsxs)(g,{value:B.stage,onValueChange:e=>V({stage:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select stage..."})}),(0,a.jsx)(y,{className:"glass-card border-0 max-h-72",children:K.QX.map(e=>(0,a.jsxs)(N,{value:e.value,className:"py-3",children:[(0,a.jsx)("span",{className:"font-semibold text-indigo-600",children:e.label}),(0,a.jsxs)("span",{className:"text-slate-400 ml-2 text-sm",children:["- ",e.description]})]},e.value))})]})}),(0,a.jsx)(ef,{label:"Histology Type",required:!0,helpText:"Tumor histological classification",children:(0,a.jsxs)(g,{value:B.histology,onValueChange:e=>V({histology:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select histology..."})}),(0,a.jsx)(y,{className:"glass-card border-0",children:K.vW.map(e=>(0,a.jsx)(N,{value:e,className:"py-3",children:e},e))})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"Tumor Grade",required:!0,helpText:"Differentiation grade (G1-G3)",children:(0,a.jsxs)(g,{value:B.grade,onValueChange:e=>V({grade:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select grade..."})}),(0,a.jsx)(y,{className:"glass-card border-0",children:K.Tw.map(e=>(0,a.jsx)(N,{value:e,className:"py-3",children:e},e))})]})}),(0,a.jsx)(ef,{label:"Myometrial Invasion",required:!0,helpText:"Depth of invasion",children:(0,a.jsxs)(g,{value:B.myometrial_invasion,onValueChange:e=>V({myometrial_invasion:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select depth..."})}),(0,a.jsx)(y,{className:"glass-card border-0",children:K.TR.map(e=>(0,a.jsx)(N,{value:e,className:"py-3",children:e},e))})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"LVSI Status",required:!0,helpText:"Lymphovascular space invasion",children:(0,a.jsxs)(g,{value:B.lvsi,onValueChange:e=>V({lvsi:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select LVSI status..."})}),(0,a.jsx)(y,{className:"glass-card border-0",children:K.O5.map(e=>(0,a.jsx)(N,{value:e,className:"py-3",children:e},e))})]})}),(0,a.jsx)(ef,{label:"Lymph Node Status",required:!0,helpText:"Regional lymph node involvement",children:(0,a.jsxs)(g,{value:B.lymph_nodes,onValueChange:e=>V({lymph_nodes:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select status..."})}),(0,a.jsx)(y,{className:"glass-card border-0",children:K.Js.map(e=>(0,a.jsx)(N,{value:e,className:"py-3",children:e},e))})]})})]})]}),2===m&&(0,a.jsxs)(n.E.div,{variants:eu,initial:"hidden",animate:"visible",className:"space-y-5 sm:space-y-8",children:[(0,a.jsx)(n.E.div,{variants:eg,className:"p-5 rounded-2xl bg-gradient-to-r from-emerald-50 to-teal-50 border border-emerald-100",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-400 to-teal-500 flex items-center justify-center flex-shrink-0",children:(0,a.jsx)(et.Z,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-emerald-800",children:"TCGA Molecular Classification"}),(0,a.jsx)("p",{className:"text-sm text-emerald-600 mt-1",children:"Enter biomarker results for accurate molecular subtype classification (POLEmut, MMRd, NSMP, p53abn)."})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"POLE Mutation Status",required:!0,helpText:"Polymerase epsilon mutation",icon:et.Z,children:(0,a.jsxs)(g,{value:B.pole_status,onValueChange:e=>V({pole_status:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select status..."})}),(0,a.jsxs)(y,{className:"glass-card border-0",children:[(0,a.jsx)(N,{value:"Wild-type",className:"py-3",children:"Wild-type"}),(0,a.jsxs)(N,{value:"Mutated",className:"py-3",children:[(0,a.jsx)("span",{className:"text-emerald-600 font-medium",children:"Mutated"}),(0,a.jsx)("span",{className:"text-slate-400 ml-2",children:"- Excellent prognosis"})]}),(0,a.jsx)(N,{value:"Not Tested",className:"py-3",children:"Not Tested"})]})]})}),(0,a.jsx)(ef,{label:"MMR Status",required:!0,helpText:"Mismatch repair protein status",children:(0,a.jsxs)(g,{value:B.mmr_status,onValueChange:e=>V({mmr_status:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select status..."})}),(0,a.jsxs)(y,{className:"glass-card border-0",children:[(0,a.jsx)(N,{value:"Proficient",className:"py-3",children:"Proficient (pMMR)"}),(0,a.jsxs)(N,{value:"Deficient",className:"py-3",children:[(0,a.jsx)("span",{className:"text-blue-600 font-medium",children:"Deficient (dMMR)"}),(0,a.jsx)("span",{className:"text-slate-400 ml-2",children:"- Immunotherapy eligible"})]}),(0,a.jsx)(N,{value:"Not Tested",className:"py-3",children:"Not Tested"})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"p53 Status",required:!0,helpText:"p53 immunohistochemistry pattern",children:(0,a.jsxs)(g,{value:B.p53_status,onValueChange:e=>V({p53_status:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select status..."})}),(0,a.jsxs)(y,{className:"glass-card border-0",children:[(0,a.jsx)(N,{value:"Wild-type",className:"py-3",children:"Wild-type"}),(0,a.jsxs)(N,{value:"Abnormal",className:"py-3",children:[(0,a.jsx)("span",{className:"text-rose-600 font-medium",children:"Abnormal"}),(0,a.jsx)("span",{className:"text-slate-400 ml-2",children:"- Aggressive subtype"})]}),(0,a.jsx)(N,{value:"Not Tested",className:"py-3",children:"Not Tested"})]})]})}),(0,a.jsx)(ef,{label:"L1CAM Status",required:!0,helpText:"L1CAM expression (≥10% cutoff)",children:(0,a.jsxs)(g,{value:B.l1cam_status,onValueChange:e=>V({l1cam_status:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select status..."})}),(0,a.jsxs)(y,{className:"glass-card border-0",children:[(0,a.jsx)(N,{value:"Negative",className:"py-3",children:"Negative (<10%)"}),(0,a.jsx)(N,{value:"Positive",className:"py-3",children:"Positive (≥10%)"}),(0,a.jsx)(N,{value:"Not Tested",className:"py-3",children:"Not Tested"})]})]})})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:(0,a.jsx)(ef,{label:"CTNNB1 Status",required:!0,helpText:"β-catenin nuclear accumulation",children:(0,a.jsxs)(g,{value:B.ctnnb1_status,onValueChange:e=>V({ctnnb1_status:e}),children:[(0,a.jsx)(f,{className:"input-premium h-12 sm:h-14 text-sm sm:text-base",children:(0,a.jsx)(b,{placeholder:"Select status..."})}),(0,a.jsxs)(y,{className:"glass-card border-0",children:[(0,a.jsx)(N,{value:"Wild-type",className:"py-3",children:"Wild-type"}),(0,a.jsx)(N,{value:"Mutated",className:"py-3",children:"Mutated"}),(0,a.jsx)(N,{value:"Not Tested",className:"py-3",children:"Not Tested"})]})]})})})]}),3===m&&(0,a.jsxs)(n.E.div,{variants:eu,initial:"hidden",animate:"visible",className:"space-y-5 sm:space-y-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:[(0,a.jsx)(ef,{label:"Estrogen Receptor (%)",helpText:"Optional: ER expression percentage",children:(0,a.jsx)(c,{type:"number",step:"0.1",placeholder:"e.g., 80",value:B.er_percent||"",onChange:e=>V({er_percent:parseFloat(e.target.value)}),className:"input-premium h-12 sm:h-14 text-sm sm:text-base"})}),(0,a.jsx)(ef,{label:"Progesterone Receptor (%)",helpText:"Optional: PR expression percentage",children:(0,a.jsx)(c,{type:"number",step:"0.1",placeholder:"e.g., 60",value:B.pr_percent||"",onChange:e=>V({pr_percent:parseFloat(e.target.value)}),className:"input-premium h-12 sm:h-14 text-sm sm:text-base"})})]}),(0,a.jsxs)(n.E.div,{variants:eg,className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 p-8",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-10",children:(0,a.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",preserveAspectRatio:"none",children:[(0,a.jsx)("defs",{children:(0,a.jsx)("pattern",{id:"grid",width:"10",height:"10",patternUnits:"userSpaceOnUse",children:(0,a.jsx)("path",{d:"M 10 0 L 0 0 0 10",fill:"none",stroke:"white",strokeWidth:"0.5"})})}),(0,a.jsx)("rect",{width:"100",height:"100",fill:"url(#grid)"})]})}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[(0,a.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center",children:(0,a.jsx)(P.Z,{className:"w-7 h-7 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold text-white",children:"Ready for AI Analysis"}),(0,a.jsx)("p",{className:"text-white/80",children:"Your assessment is complete"})]})]}),(0,a.jsxs)("div",{className:"grid sm:grid-cols-3 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5 text-emerald-300"}),(0,a.jsx)("span",{className:"text-white/90 font-medium",children:"Demographics"})]}),(0,a.jsx)("p",{className:"text-white/60 text-sm",children:"Patient profile verified"})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5 text-emerald-300"}),(0,a.jsx)("span",{className:"text-white/90 font-medium",children:"Pathology"})]}),(0,a.jsx)("p",{className:"text-white/60 text-sm",children:"Tumor characteristics set"})]}),(0,a.jsxs)("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-4 border border-white/20",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(A.Z,{className:"w-5 h-5 text-emerald-300"}),(0,a.jsx)("span",{className:"text-white/90 font-medium",children:"Molecular"})]}),(0,a.jsx)("p",{className:"text-white/60 text-sm",children:"Biomarkers recorded"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3 text-white/70",children:[(0,a.jsx)(ec.Z,{className:"w-5 h-5"}),(0,a.jsx)("span",{className:"text-sm",children:"Analysis typically completes in 1-2 seconds"})]})]})]})]})]},m)}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-6 sm:mt-10 pt-5 sm:pt-8 border-t border-slate-100 gap-3",children:[(0,a.jsxs)(o.z,{variant:"ghost",onClick:()=>{m>0&&(h(-1),x(m-1))},disabled:0===m,className:"btn-secondary-premium flex items-center gap-1.5 sm:gap-2 disabled:opacity-40 text-sm sm:text-base px-3 sm:px-4",children:[(0,a.jsx)(el.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),(0,a.jsx)("span",{className:"hidden xs:inline",children:"Previous"}),(0,a.jsx)("span",{className:"xs:hidden",children:"Back"})]}),m<eh.length-1?(0,a.jsxs)(o.z,{onClick:()=>{m<eh.length-1&&(h(1),x(m+1))},className:"btn-premium flex items-center gap-1.5 sm:gap-2 text-sm sm:text-base px-4 sm:px-6",children:[(0,a.jsx)("span",{children:"Continue"}),(0,a.jsx)(ex.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]}):(0,a.jsx)(o.z,{onClick:Q,disabled:u,className:"btn-premium flex items-center gap-1.5 sm:gap-2 min-w-0 sm:min-w-[220px] justify-center text-sm sm:text-base px-4 sm:px-6",children:u?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.Z,{className:"w-4 h-4 sm:w-5 sm:h-5 animate-spin"}),(0,a.jsx)("span",{children:"Analyzing..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.Z,{className:"w-4 h-4 sm:w-5 sm:h-5"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Generate Risk Assessment"}),(0,a.jsx)("span",{className:"sm:hidden",children:"Generate"}),(0,a.jsx)(ep.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})})]})]})]})}),(0,a.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 sm:mt-10 text-center px-4",children:(0,a.jsxs)("div",{className:"inline-flex flex-wrap items-center justify-center gap-3 sm:gap-6 text-xs sm:text-sm text-slate-400",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,a.jsx)(er.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-500"}),(0,a.jsx)("span",{children:"256-bit Encryption"})]}),(0,a.jsx)("div",{className:"hidden sm:block w-1 h-1 rounded-full bg-slate-300"}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[(0,a.jsx)(A.Z,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-500"}),(0,a.jsx)("span",{children:"HIPAA Compliant"})]}),(0,a.jsx)("div",{className:"hidden sm:block w-1 h-1 rounded-full bg-slate-300"}),(0,a.jsx)("span",{className:"w-full sm:w-auto text-center",children:"For research purposes only"})]})})]})]}):null}},9733:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var a=t(7437),i=t(2265),l=t(3027),r=t(9354);let n=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap font-semibold transition-all duration-300 ease-out focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 active:scale-[0.98]",{variants:{variant:{default:"bg-gradient-to-r from-indigo-500 via-purple-500 to-indigo-600 text-white rounded-xl shadow-[0_4px_12px_rgba(99,102,241,0.3),inset_0_1px_0_rgba(255,255,255,0.2)] hover:shadow-[0_8px_24px_rgba(99,102,241,0.4),inset_0_1px_0_rgba(255,255,255,0.2)] hover:from-indigo-600 hover:via-purple-600 hover:to-indigo-700 hover:-translate-y-0.5 focus-visible:ring-indigo-500",destructive:"bg-gradient-to-r from-rose-500 to-red-600 text-white rounded-xl shadow-[0_4px_12px_rgba(239,68,68,0.3)] hover:shadow-[0_8px_24px_rgba(239,68,68,0.4)] hover:from-rose-600 hover:to-red-700 hover:-translate-y-0.5 focus-visible:ring-rose-500",outline:"border-2 border-slate-200 bg-white/80 text-slate-700 rounded-xl backdrop-blur-sm shadow-[0_1px_2px_rgba(0,0,0,0.04)] hover:border-indigo-300 hover:bg-white hover:text-indigo-600 hover:shadow-[0_4px_12px_rgba(99,102,241,0.1)] focus-visible:ring-indigo-500",secondary:"bg-slate-100 text-slate-700 rounded-xl hover:bg-slate-200 focus-visible:ring-slate-400",ghost:"text-slate-600 rounded-xl hover:bg-slate-100 hover:text-slate-900 focus-visible:ring-slate-400",link:"text-indigo-600 underline-offset-4 hover:underline hover:text-indigo-700",premium:"relative overflow-hidden bg-gradient-to-r from-indigo-500 via-purple-500 to-pink-500 text-white rounded-xl shadow-[0_4px_16px_rgba(99,102,241,0.35),inset_0_1px_0_rgba(255,255,255,0.25)] hover:shadow-[0_8px_28px_rgba(99,102,241,0.45),inset_0_1px_0_rgba(255,255,255,0.25)] hover:-translate-y-0.5 focus-visible:ring-purple-500 before:absolute before:inset-0 before:bg-gradient-to-r before:from-purple-600 before:via-pink-500 before:to-indigo-600 before:opacity-0 before:transition-opacity before:duration-300 hover:before:opacity-100"},size:{default:"h-11 px-6 py-2.5 text-sm gap-2",sm:"h-9 px-4 py-2 text-xs gap-1.5",lg:"h-14 px-8 py-3 text-base gap-2.5",xl:"h-16 px-10 py-4 text-lg gap-3",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,s)=>{let{className:t,variant:i,size:l,children:d,...o}=e;return(0,a.jsx)("button",{className:(0,r.cn)(n({variant:i,size:l,className:t})),ref:s,...o,children:"premium"===i?(0,a.jsx)("span",{className:"relative z-10 flex items-center gap-2",children:d}):d})});d.displayName="Button"},2686:function(e,s,t){"use strict";t.d(s,{Js:function(){return o},N7:function(){return m},O5:function(){return n},QX:function(){return i},Sm:function(){return c},TR:function(){return d},Tw:function(){return r},iC:function(){return a},vW:function(){return l}});let a="OncoRisk EC",i=[{value:"IA",label:"Stage IA",description:"Tumor confined to uterus, <50% myometrial invasion"},{value:"IB",label:"Stage IB",description:"Tumor confined to uterus, ≥50% myometrial invasion"},{value:"II",label:"Stage II",description:"Tumor invades cervical stroma"},{value:"IIIA",label:"Stage IIIA",description:"Tumor invades serosa or adnexa"},{value:"IIIB",label:"Stage IIIB",description:"Vaginal or parametrial involvement"},{value:"IIIC1",label:"Stage IIIC1",description:"Pelvic lymph node metastasis"},{value:"IIIC2",label:"Stage IIIC2",description:"Para-aortic lymph node metastasis"},{value:"IVA",label:"Stage IVA",description:"Tumor invades bladder or bowel mucosa"},{value:"IVB",label:"Stage IVB",description:"Distant metastasis"}],l=["Endometrioid","Serous","Clear Cell","Carcinosarcoma","Mixed","Other"],r=["G1","G2","G3"],n=["None","Focal","Substantial"],d=["<50%","≥50%"],o=["Negative","Pelvic+","Para-aortic+"],m=[{value:0,label:"ECOG 0",description:"Fully active"},{value:1,label:"ECOG 1",description:"Restricted in strenuous activity"},{value:2,label:"ECOG 2",description:"Ambulatory, unable to work"},{value:3,label:"ECOG 3",description:"Limited self-care"},{value:4,label:"ECOG 4",description:"Completely disabled"}],c={POLEmut:{name:"POLE Ultramutated",shortName:"POLEmut",displayName:"POLEmut",frequency:"~7%",prognosis:"Excellent prognosis with >95% 5-year recurrence-free survival",shortDescription:"Ultramutated phenotype with robust immune response",keyFeatures:"High tumor mutational burden, strong anti-tumor immunity, excellent response to standard therapy",recurrenceRate:"<5%",color:"#10b981",colorClass:"text-emerald-600 bg-emerald-100",icon:"shield-check"},MMRd:{name:"MMR Deficient",shortName:"MMRd",displayName:"MMRd",frequency:"~28%",prognosis:"Intermediate prognosis with 85-90% 5-year recurrence-free survival",shortDescription:"Mismatch repair deficiency, immunotherapy candidate",keyFeatures:"Lynch syndrome association, high neoantigen load, responsive to immune checkpoint inhibitors",recurrenceRate:"10-15%",color:"#3b82f6",colorClass:"text-blue-600 bg-blue-100",icon:"dna"},NSMP:{name:"No Specific Molecular Profile",shortName:"NSMP",displayName:"NSMP",frequency:"~40%",prognosis:"Variable prognosis depending on L1CAM and CTNNB1 status",shortDescription:"Risk stratified by traditional and emerging biomarkers",keyFeatures:"Heterogeneous group, L1CAM positivity indicates higher risk, CTNNB1 mutation associated with late recurrence",recurrenceRate:"10-25%",color:"#64748b",colorClass:"text-slate-600 bg-slate-100",icon:"minus-circle"},p53abn:{name:"p53 Abnormal",shortName:"p53abn",displayName:"p53abn",frequency:"~25%",prognosis:"Poor prognosis with 50-60% 5-year recurrence-free survival",shortDescription:"Aggressive tumor biology with copy-number high phenotype",keyFeatures:"Serous-like molecular features, high genomic instability, requires intensive therapy",recurrenceRate:"40-50%",color:"#ef4444",colorClass:"text-rose-600 bg-rose-100",icon:"alert-triangle"}}},9354:function(e,s,t){"use strict";t.d(s,{JB:function(){return n},cn:function(){return l},cz:function(){return d},rl:function(){return r}});var a=t(4839),i=t(6164);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,i.m6)((0,a.W)(s))}function r(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return"".concat((100*e).toFixed(s),"%")}function n(e){let s={LOW:"bg-emerald-500 text-white",INTERMEDIATE:"bg-amber-500 text-white",HIGH:"bg-rose-500 text-white"};return s[e]||s.INTERMEDIATE}function d(e){let s={POLEmut:"bg-emerald-500 text-white",MMRd:"bg-blue-500 text-white",NSMP:"bg-slate-500 text-white",p53abn:"bg-rose-500 text-white"};return s[e]||s.NSMP}},9848:function(e,s,t){"use strict";t.d(s,{H:function(){return a}});let a=(0,t(9099).Ue)(e=>({prediction:null,explanation:null,report:null,loading:!1,error:null,setPrediction:s=>e({prediction:s}),setExplanation:s=>e({explanation:s}),setReport:s=>e({report:s}),setLoading:s=>e({loading:s}),setError:s=>e({error:s}),reset:()=>e({prediction:null,explanation:null,report:null,loading:!1,error:null})}))}},function(e){e.O(0,[289,903,569,971,23,744],function(){return e(e.s=9612)}),_N_E=e.O()}]);